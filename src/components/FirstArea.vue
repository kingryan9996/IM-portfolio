<template>
<article class="first-area-wrap">  
  <h1>
    <div class="svg-path">
      <div class="svg-text-wrap">
        <div class="svg-portfolio">
        <svg class="text-svg p">
          <text x="0" y="120" >
            P
          </text>
        </svg>
        <svg class="text-svg o">
          <text x="0" y="120" >
            o
          </text>
        </svg>
        <svg class="text-svg r">
          <text x="0" y="120" >
            r
          </text>
        </svg>
        <svg class="text-svg t">
          <text x="0" y="120" >
            t
          </text>
        </svg>
        <svg class="text-svg f">
          <text x="0" y="120" >
            f
          </text>
        </svg>
        <svg class="text-svg o">
          <text x="0" y="120" >
            o
          </text>
        </svg>
        <svg class="text-svg l">
          <text x="0" y="120" >
            l
          </text>
        </svg>
        <svg class="text-svg i">
          <text x="0" y="120" >
            i
          </text>
        </svg>
        <svg class="text-svg o">
          <text x="0" y="120" >
            o
          </text>
        </svg>
      </div>

      <div class="svg-Front">
        <svg class="text-svg F">
          <text x="0" y="130" >
            F
          </text>
        </svg>
        <svg class="text-svg r">
          <text x="0" y="130" >
            r
          </text>
        </svg>
        <svg class="text-svg o">
          <text x="0" y="130" >
            o
          </text>
        </svg>
        <svg class="text-svg n">
          <text x="0" y="130" >
            n
          </text>
        </svg>
        <svg class="text-svg t">
          <text x="0" y="130" >
            t
          </text>
        </svg>          
      </div>
      </div>
      <div class="svg-And">
        <svg class="text-svg And">
          <text x="0" y="300" >
            &
          </text>
        </svg>
      </div>
      


      <!-- <svg class="svg-front" width="445" height="142.401" viewBox="0 0 445 142.401" xmlns="http://www.w3.org/2000/svg">
        <g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#FFF" stroke-width="0.25mm" fill="none" style="stroke:#FFF;stroke-width:0.25mm;fill:none">
          <path d="M 25.6 139.4 L 0 139.4 L 0 0 L 72.8 0 L 72.8 22 L 25.6 22 L 25.6 58.6 L 66.8 58.6 L 66.8 81 L 25.6 81 L 25.6 139.4 Z" id="0" vector-effect="non-scaling-stroke"/>
          <path d="M 114.8 139.4 L 89.8 139.4 L 89.8 39.8 L 112.4 39.8 L 113.6 57.4 Q 114.975 54.048 117.642 50.328 A 53.091 53.091 0 0 1 118.55 49.1 A 23.796 23.796 0 0 1 123.368 44.407 A 32.175 32.175 0 0 1 127.85 41.65 A 25.152 25.152 0 0 1 133.658 39.578 Q 137.876 38.6 143.2 38.6 A 35.772 35.772 0 0 1 145.604 38.677 Q 146.789 38.757 147.828 38.92 A 20.134 20.134 0 0 1 148.3 39 A 20.068 20.068 0 0 1 151.554 39.869 A 17.884 17.884 0 0 1 152.4 40.2 L 146.8 66.4 Q 144.264 63.864 139.593 63.338 A 23.188 23.188 0 0 0 137 63.2 A 30.856 30.856 0 0 0 131.671 63.634 Q 127.482 64.369 124.4 66.35 A 28.241 28.241 0 0 0 120.84 69.033 Q 118.975 70.7 117.705 72.541 A 16.556 16.556 0 0 0 117.15 73.4 Q 115.342 76.4 114.925 78.335 A 5.085 5.085 0 0 0 114.8 79.4 L 114.8 139.4 Z" id="1" vector-effect="non-scaling-stroke"/>
          <path d="M 190.857 139.769 A 56.238 56.238 0 0 0 204.8 141.4 A 57.947 57.947 0 0 0 215.824 140.402 A 38.792 38.792 0 0 0 238.85 127.25 Q 250.8 113.1 250.8 89.4 A 92.539 92.539 0 0 0 250.721 85.542 Q 250.378 77.326 248.55 70.338 A 48.813 48.813 0 0 0 239.25 51.55 A 36.878 36.878 0 0 0 219.258 38.997 A 54.972 54.972 0 0 0 205.6 37.4 A 59.84 59.84 0 0 0 194.59 38.367 A 40.664 40.664 0 0 0 171.2 51.1 A 41.998 41.998 0 0 0 165.988 58.26 Q 158.8 70.671 158.8 89.4 Q 158.8 100.838 161.437 109.946 A 45.963 45.963 0 0 0 170.8 127.6 A 38.527 38.527 0 0 0 190.857 139.769 Z M 205.2 121.4 A 15.727 15.727 0 0 0 220.231 111.966 Q 223.735 104.955 224.146 92.733 A 99.397 99.397 0 0 0 224.2 89.4 Q 224.2 68.544 216.229 61.196 A 15.638 15.638 0 0 0 205.2 57.2 A 18.888 18.888 0 0 0 198.376 58.383 Q 193.873 60.113 190.797 64.373 A 21.173 21.173 0 0 0 190.6 64.65 A 22.475 22.475 0 0 0 187.802 70.433 Q 185.89 76.17 185.5 84.79 A 102.048 102.048 0 0 0 185.4 89.4 A 90.02 90.02 0 0 0 185.767 97.846 Q 186.781 108.566 190.6 114 A 16.5 16.5 0 0 0 202.502 121.237 A 21.718 21.718 0 0 0 205.2 121.4 Z" id="2" vector-effect="non-scaling-stroke"/>
          <path d="M 299.6 139.4 L 274 139.4 L 274 39.8 L 297.2 39.8 L 297.7 52.9 A 34.923 34.923 0 0 1 303.604 46.052 A 45.543 45.543 0 0 1 308.6 42.15 A 25.684 25.684 0 0 1 316.557 38.625 Q 321.211 37.4 327 37.4 Q 339.424 37.4 346.637 43.814 A 23.22 23.22 0 0 1 349.6 47 A 32.59 32.59 0 0 1 354.912 57.626 Q 356.282 62.182 356.753 67.638 A 69.343 69.343 0 0 1 357 73.6 L 357 139.4 L 331.4 139.4 L 331.4 75.8 Q 331.4 69.203 329.189 64.596 A 17.323 17.323 0 0 0 327.9 62.35 A 11.393 11.393 0 0 0 319.77 57.381 A 17.504 17.504 0 0 0 317.2 57.2 A 17.051 17.051 0 0 0 305.149 62.111 A 22.141 22.141 0 0 0 304.9 62.35 A 17.253 17.253 0 0 0 299.743 73.161 A 23.76 23.76 0 0 0 299.6 75.8 L 299.6 139.4 Z" id="3" vector-effect="non-scaling-stroke"/>
          <path d="M 389.8 107 L 389.8 60.8 L 376.8 60.8 L 376.8 39.8 L 390.8 39.8 L 392.2 18.8 L 414 9.4 L 414 39.8 L 438.6 39.8 L 438.6 60.8 L 414 60.8 L 414 106.4 Q 414 113.193 415.494 116.725 A 8.566 8.566 0 0 0 416.45 118.45 Q 418.9 121.8 423.2 121.8 A 19.132 19.132 0 0 0 428.29 121.077 A 26.48 26.48 0 0 0 432.5 119.5 Q 437.4 117.2 440.2 114.8 L 445 135 Q 442.46 136.803 438.678 138.236 A 45.288 45.288 0 0 1 436.95 138.85 Q 432 140.5 426.95 141.45 Q 423.557 142.088 420.954 142.298 A 29.492 29.492 0 0 1 418.6 142.4 A 50.75 50.75 0 0 1 410.834 141.85 Q 406.768 141.218 403.605 139.861 A 17.527 17.527 0 0 1 395.75 133.6 A 28.843 28.843 0 0 1 392.242 126.113 Q 389.957 118.9 389.81 108.455 A 103.207 103.207 0 0 1 389.8 107 Z" id="4" vector-effect="non-scaling-stroke"/>
        </g>
      </svg>
      <svg class="svg-And" width="219.289" height="260.786" viewBox="0 0 219.289 250.786" xmlns="http://www.w3.org/2000/svg">
        <g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#FFF" stroke-width="0.25mm" fill="none" style="stroke:#FFF;stroke-width:0.25mm;fill:none">
          <path d="M 219.289 229.397 L 200.685 250.491 A 673.729 673.729 0 0 1 158.937 215.042 A 106.285 106.285 0 0 1 81.485 250.677 A 138.081 138.081 0 0 1 76.027 250.784 A 95.222 95.222 0 0 1 53.298 248.174 A 77.57 77.57 0 0 1 34.572 240.969 Q 18.312 232.18 9.23 217.532 A 60.245 60.245 0 0 1 0.002 185.012 A 64.788 64.788 0 0 1 24.824 133.779 Q 34.91 125.233 49.096 118.204 A 173.481 173.481 0 0 1 59.035 113.674 A 349.822 349.822 0 0 1 52.297 105.083 Q 45.98 96.744 42.138 90.397 A 97.175 97.175 0 0 1 41.603 89.504 A 82.955 82.955 0 0 1 34.484 74.582 A 59.607 59.607 0 0 1 30.91 54.641 Q 30.91 34.28 43.947 19.631 A 58.495 58.495 0 0 1 81.642 0.582 A 82.245 82.245 0 0 1 91.555 0.003 A 69.514 69.514 0 0 1 114.083 3.551 A 61.655 61.655 0 0 1 130.226 11.868 A 55.624 55.624 0 0 1 144.548 26.557 Q 152.102 38.172 152.338 53.227 A 62.18 62.18 0 0 1 152.346 54.202 A 56.444 56.444 0 0 1 136.104 94.044 A 76.39 76.39 0 0 1 132.57 97.561 A 92.324 92.324 0 0 1 121.598 106.206 Q 115.74 110.191 108.542 114.049 A 209.639 209.639 0 0 1 96.535 119.973 A 798.281 798.281 0 0 0 133.521 157.189 A 648.049 648.049 0 0 0 156.887 178.128 A 118.832 118.832 0 0 0 166.294 160.845 Q 170.375 151.749 173.841 140.788 A 269.654 269.654 0 0 0 178.859 122.61 L 203.029 132.278 A 334.229 334.229 0 0 1 195.232 155.795 Q 186.968 177.744 177.457 191.306 A 88.047 88.047 0 0 1 175.197 194.387 Q 193.068 210.061 219.289 229.397 Z M 73.83 130.374 A 118.652 118.652 0 0 0 59.235 137.857 Q 51.525 142.553 45.651 148.035 A 68.054 68.054 0 0 0 42.775 150.881 A 56.322 56.322 0 0 0 33.386 163.672 A 43.706 43.706 0 0 0 28.273 184.28 A 40.494 40.494 0 0 0 31.043 199.489 A 37.241 37.241 0 0 0 41.31 213.723 A 48.024 48.024 0 0 0 62.272 224.523 Q 69.65 226.342 78.339 226.459 A 89.186 89.186 0 0 0 79.543 226.467 A 82.248 82.248 0 0 0 123.488 214.309 Q 133.303 208.157 141.066 198.782 A 900.988 900.988 0 0 1 90.557 148.712 A 1033.906 1033.906 0 0 1 73.83 130.374 Z M 82.18 103.128 A 126.638 126.638 0 0 0 100.062 93.63 Q 108.768 87.978 114.481 81.605 A 39.473 39.473 0 0 0 125.392 54.641 A 29.287 29.287 0 0 0 117.189 33.987 A 33.152 33.152 0 0 0 92.975 22.887 A 43.672 43.672 0 0 0 91.262 22.854 A 33.852 33.852 0 0 0 69.875 30.032 A 29.413 29.413 0 0 0 58.028 51.463 A 38.832 38.832 0 0 0 57.863 55.081 A 45.189 45.189 0 0 0 60.623 70.288 Q 62.624 75.911 66.076 81.696 A 80.252 80.252 0 0 0 67.092 83.352 A 110.131 110.131 0 0 0 72.262 90.907 A 140.979 140.979 0 0 0 77.053 96.975 Q 81.547 102.527 82.105 103.069 A 0.221 0.221 0 0 0 82.18 103.128 Z" id="0" vector-effect="non-scaling-stroke"/>
        </g>
      </svg> -->

    <!-- <div class="svg-text">
      <svg class="text-svg">
      <text x="0" y="15" >
        Hi,!
      </text>
    </svg>
    <svg class="text-svg">
      <text x="0" y="15" >
        I'M 승환,
      </text>
    </svg>
    <svg class="text-svg">
      <text x="0" y="15" >
        프론트엔드로 취업을 준비중인
      </text>
    </svg>
    </div> -->
        </div>
  </h1>
    <!-- <span class="And">&</span> -->
    <MyCanvas/>
  </article>
</template>

<script>
import MyCanvas from './MyCanvas.vue';

export default {
   components: {
    MyCanvas},
    
  mounted() {
    
  let paths = document.querySelectorAll(".first-area-wrap .svg-portfolio text");
  let texts = document.querySelectorAll('text')
  let frontPath = document.querySelector(".svg-front")
  let AndSvg = document.querySelector(".svg-And")
  let AndPath = document.querySelector(".svg-And > g")
//   window.addEventListener('load',()=>{
//     setTimeout(()=>{
//  paths.addEventListener('mouseover',()=>{    
//     if(! paths.classList.contains("active3d")){
//       paths.classList.add("active3d")
//     setTimeout(()=>{
//       paths.classList.remove("active3d")
//     },1500)
//     }
//   })

  

//   AndSvg.addEventListener('mouseover',()=>{    
//     if(! AndPath.classList.contains("activeFill")){
//       AndPath.classList.add("activeFill")
//     setTimeout(()=>{
//       AndPath.classList.remove("activeFill")
//     },1500)
//     }
//   })

//     },5000)
//   })


 




if (paths.length > 0){
  setTextAnimation(0.15,2.8,2,'linear','#999999',true)
}

function setTextAnimation(delay, duration, strokeWidth, timingFunction, strokeColor) {
  // if(paths.length == 0){return setTextAnimation(0.15,2.8,2,'linear','#ffffff',true)}
  // let mode=repeat?'infinite':'forwards'
  let mode='forwards'
  // console.log(texts,'??')
            for (let i = 0; i < texts.length; i++) {
                const text = texts[i];
                const Textlength = Math.floor(text.textLength.baseVal.value);
                // console.log(Math.floor(text.textLength.baseVal.value))
                text.style["stroke-dashoffset"] = `${Textlength}px`;
                text.style["stroke-dasharray"] = `${Textlength}px`;
                text.style["stroke-width"] = `${strokeWidth}px`;
                text.style["stroke"] = `${strokeColor}`;
                text.style["animation"] = `${duration}s svg-text-anim ${mode} ${timingFunction}`;
                text.style["animation-delay"] = `${i * delay}s`;
            }
        }    
  }
}

</script>

<style lang="scss">
@import url('https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Inter:wght@300;400;700&display=swap');


.first-area-wrap {
  padding: 7% 180px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-content: center;
  background-color: #0134CD;
  color: #FFF;
  position: relative;
  h1::before{
    content: "I";
    display: block;
    position: absolute;
    top: 32.5%;
    left: 13.8%;
    font-size: 40px;
    color: #4BDFFA;
  }
  h1::after{
    content: "'M 승환";
    display: block;
    position: absolute;
    top: 31.5%;
    left: 15%;
    font-size: 40px;
  }
  h1{
    margin-top: 10%;
    scale: 1.3;
    position: relative;    
    span{
      text-align:left;
      vertical-align: text-top;
      font-size: 200px;
    }
    p {
      padding-left:3% ;
      text-align: left;
      font-size: 30px;
      color: #999999;
      color: red;
    }
    .svg-path {
      display: flex;
      .svg-text-wrap {
        width: 700px;
        .svg-portfolio {
          text-align: left;
          font-size: 140px;
          height: 140px;
        .text-svg {
          width: 80px;
          height: 140px;
          font-weight: 700;
          text {
            fill: none;
          }
        }
        .p {
          width: 88px;
        }
        .o {
          width: 82px;
        }
        .r {
          width: 58px;
        }
        .t {
          width: 53px;
        }
        .f {
          width: 54px;
        }
        .l, .i {
          width: 35px;
        }
      }
      .svg-Front {
        text-align: right;
        font-size: 160px;
        .text-svg {
          width: 80px;
          height: 150px;
          font-weight: 700;
          text {
            fill: #FFF;
          }
        }
        .F {
          width: 95px;
        }
        .r {
          width: 65px;
        }
        .o {
          width: 95px;
        }
        .n {
          width: 95px;
        }
        .t {
          width: 60px;
        }
        .And {
          width: 35px;
        }
      }
      .svg-front {        
        &.active3d {
          animation-name: svg-hover-action;
          animation-duration: 1s;
        }
        
        @keyframes svg-hover-action {
          0%{
            transform:  scale3d(1,1,1);
          }
          30%{
            transform:  scale3d(1.1,0.75,1);
          }
          40%{
            transform:  scale3d(0.75,1.25,1);
          }
          50%{
            transform:  scale3d(1.075,0.85,1);
          }
          65%{
            transform:  scale3d(0.95,1.05,1);
          }
          75%{
            transform:  scale3d(1.025,0.95,1);
          }
          100%{
            transform:  scale3d(1,1,1);
          }
        }
      }
      }
      .svg-And {
        font-size: 400px;
        .text-svg {
          width: 280px;
          height: 400px;
          font-weight: 300;
          text {
            fill: #FFF;
          }
        }
      }
      // .svg-And {
      //   // transform: translateY(43%);
      //   transform: translateY(0%);
      //   g {
      //       &.activeFill{
      //     animation-name: svg-And-hover-action;
      //     animation-duration: 1s;
      //   }
        
      //   @keyframes svg-And-hover-action {
      //     0%{
      //       transform:  scale3d(1,1,1);
      //     }
      //     30%{
      //       transform:  scale3d(1,0.75,1);
      //     }
      //     40%{
      //       transform:  scale3d(1,1,1);
      //     }
      //     50%{
      //       transform:  scale3d(1,0.85,1);
      //     }
      //     65%{
      //       transform:  scale3d(1,1,1);
      //     }
      //     75%{
      //       transform:  scale3d(1,0.95,1);
      //     }
      //     100%{
      //       transform:  scale3d(1,1,1);
      //     }
      //   }
          
      //   }
      // }
     
    }
    .svg-text {
      display: flex;
      flex-direction: column;   
      .text-svg {
        height: 20px;
        font-size: 16px;        
        fill:white;
        stroke-width: 3px;
        opacity: 1;
        animation: text-anim 1s forwards;        
      }

      @keyframes svg-text-anim {
       40% {
          stroke-dashoffset: 0;
          fill: transparent;
        }
        60% {
          stroke-dashoffset: 0;
          stroke-dasharray: 20;
        }
        100% {
          stroke-dashoffset: 0;
          stroke-dasharray: 0;
          // fill: none;

        }        
      }
    }
  }    
}

</style>